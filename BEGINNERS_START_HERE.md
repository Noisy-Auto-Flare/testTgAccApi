#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
НОВИЧКУ: С чего начать?

Этот файл поможет вам ориентироваться в проекте
если вы только начинаете работу с testTgAccApi
"""

print("""
╔═══════════════════════════════════════════════════════════════════════════════╗
║                                                                               ║
║                   👋 ДОБРО ПОЖАЛОВАТЬ! С ЧЕГО НАЧАТЬ?                        ║
║                                                                               ║
╚═══════════════════════════════════════════════════════════════════════════════╝

🎯 ВЫ НАХОДИТЕСЬ ЗДЕСЬ: /Users/matvei/Documents/projects/testAccTgApi/

В этой папке есть всё, что нужно. Но это может быть СЛИШКОМ МНОГО.
Давайте разберёмся пошагово.

═══════════════════════════════════════════════════════════════════════════════

📍 МОМЕНТАЛЬНАЯ ПРОВЕРКА: Что у вас уже есть?

1️⃣  У вас есть файл config.json?
   ☐ ДА  → Пропустите "Получение API credentials"
   ☐ НЕТ → Прочитайте "Получение API credentials"

2️⃣  Вы авторизовались в Telegram хотя бы один раз?
   ☐ ДА  → У вас есть session файл (можете его использовать)
   ☐ НЕТ → Нужна авторизация через SMS код

═══════════════════════════════════════════════════════════════════════════════

🎓 ПОШАГОВЫЙ ПУТЬ (30 минут)

Шаг 1: Читайте документацию (5 минут)
   ↓
   Выберите один из вариантов:
   
   а) НОВИЧОК в программировании?
      📖 CONFIG_USAGE_GUIDE.md
      ← В нём 5 практических примеров для config.json
      ← Легко понять, даже без опыта программирования
      
   б) ОПЫТНЫЙ программист?
      📖 CONFIG_GUIDE.md
      ← Полный справочник всех параметров
      ← 10+ сценариев с кодом
      ← Быстро найти нужное

Шаг 2: Установка (5 минут)
   $ pip install -r requirements.txt

Шаг 3: Получить API credentials (5 минут)
   1. Откройте https://my.telegram.org
   2. Получите api_id (число) и api_hash (строка)
   3. Вставьте в config.json

Шаг 4: Первый запуск (10 минут)
   $ python3 main.py
   Введите номер телефона: +79001234567
   Введите код из Telegram: 12345
   Готово!

Шаг 5: Экспериментируйте (остальное время)
   $ python3 examples.py  ← Попробуйте примеры
   $ python3 setup.py     ← Интерактивная настройка

═══════════════════════════════════════════════════════════════════════════════

🗂️ СТРУКТУРА ПАПКИ (Что есть в проекте?)

config.json                   ← ВАША конфигурация (заполняете вы)
config.example.json           ← ПРИМЕР конфигурации (только для справки)

main.py                       ← Запустите это: python3 main.py
check_telegram_account.py     ← Или это: python3 check_telegram_account.py
examples.py                   ← Или это: python3 examples.py
setup.py                      ← Или это: python3 setup.py

session_manager.py            ← Внутренний модуль (не трогать)
llm_handler.py                ← Внутренний модуль (не трогать)
media_forwarder.py            ← Внутренний модуль (не трогать)

requirements.txt              ← Зависимости (pip install -r requirements.txt)

═══════════════════════════════════════════════════════════════════════════════

📚 РЕКОМЕНДУЕМЫЙ ПОРЯДОК ЧТЕНИЯ

1️⃣  НАЧНИТЕ ОТСЮДА (выберите один)
    
    Я совсем новичок:
    └─ CONFIG_USAGE_GUIDE.md
       (5 практических примеров для config.json)
    
    Я немного программирую:
    └─ QUICKSTART.md
       (быстрый старт за 5 минут)
    
    Я хочу полный справочник:
    └─ CONFIG_GUIDE.md
       (все параметры, все сценарии)

2️⃣  ЗАТЕМ (если нужна дополнительная помощь)
    └─ INSTALLATION.md
       (подробная инструкция для каждой ОС)

3️⃣  ЕСЛИ ЧТО-ТО НЕ ПОЛУЧАЕТСЯ
    └─ README.md
       (полная документация со всеми деталями)

4️⃣  СПРАВОЧНИКИ (когда привыкнете)
    └─ INDEX.md (индекс всех файлов)
    └─ CHANGELOG.md (что изменилось)

═══════════════════════════════════════════════════════════════════════════════

❓ БЫСТРЫЕ ОТВЕТЫ НА ЧАСТЫЕ ВОПРОСЫ

❓ Где взять api_id и api_hash?
✓ https://my.telegram.org → Login → API development tools

❓ Как первый раз авторизоваться?
✓ python3 main.py → введите номер телефона → введите код из Telegram

❓ Как не вводить код каждый раз?
✓ После первого запуска используйте session_file вместо phone

❓ Как получить ID чата?
✓ python3 setup.py → пункт 3 "Получить IDs чатов"

❓ Где скачать text-generation-webui для LLM?
✓ https://github.com/oobabooga/text-generation-webui

❓ Что означает allowed_chat_ids?
✓ Какие чаты обрабатывать LLM (пусто = все)

❓ Какой ID для канала?
✓ Отрицательное число, начинается с -100

❓ Я в панике! Что делать?
✓ Запустите: python3 setup.py
✓ Выбирайте пункты по очереди
✓ Программа поможет разобраться

═══════════════════════════════════════════════════════════════════════════════

🎬 СЕЙЧАС ДАВАЙТЕ ЗАПУСТИМ

Вариант 1: Быстрый старт (не читайте документацию!)
   $ cp config.example.json config.json
   $ nano config.json  # вставьте api_id, api_hash, phone
   $ python3 main.py
   
Вариант 2: С интерактивной помощью
   $ python3 setup.py
   # выбирайте пункты, программа подскажет что делать
   
Вариант 3: Через примеры
   $ python3 examples.py
   # выбирайте примеры, смотрите как работает

═══════════════════════════════════════════════════════════════════════════════

✨ ГЛАВНЫЕ МОМЕНТЫ

1️⃣  config.json - это СЕРДЦЕ проекта
   ├─ api_id и api_hash - из my.telegram.org
   ├─ phone или session_file - для авторизации
   ├─ llm - для авто-ответов (опционально)
   └─ media_forward - для архива (опционально)

2️⃣  python3 main.py - это КНОПКА ЗАПУСКА
   └─ Запускает всё что включено в config.json

3️⃣  python3 setup.py - это ИНТЕРАКТИВНЫЙ ПОМОЩНИК
   └─ Поможет с настройкой и диагностикой

4️⃣  Всё работает ПАРАЛЛЕЛЬНО
   └─ Можно включить несколько функций одновременно
   └─ Можно управлять несколькими аккаунтами
   └─ Всё работает вместе, не конфликтует

═══════════════════════════════════════════════════════════════════════════════

🚀 ПЕРВЫЕ 10 МИНУТ

Минута 1-2: Откройте https://my.telegram.org
   └─ Получите api_id и api_hash

Минута 3-4: Установите зависимости
   $ pip install -r requirements.txt

Минута 5-6: Скопируйте и отредактируйте config.json
   $ cp config.example.json config.json
   $ nano config.json

Минута 7-10: Запустите!
   $ python3 main.py
   Введите номер телефона, потом код из Telegram
   🎉 ГОТОВО!

═══════════════════════════════════════════════════════════════════════════════

🆘 ЧТО ЕСЛИ ОШИБКА?

1️⃣  Проверьте api_id и api_hash
   └─ Откройте https://my.telegram.org и перепроверьте

2️⃣  Запустите диагностику
   $ python3 setup.py
   └─ Выбирайте пункты, программа подскажет

3️⃣  Смотрите логи
   $ python3 main.py 2>&1 | tee log.txt
   └─ Откройте log.txt и ищите ошибку

4️⃣  Прочитайте CONFIG_USAGE_GUIDE.md
   └─ Там готовые примеры для разных ситуаций

═══════════════════════════════════════════════════════════════════════════════

📞 БЫСТРАЯ ПОМОЩЬ

Вопрос                          Ответ
──────────────────────────────  ──────────────────────────────
Новичок в программировании      CONFIG_USAGE_GUIDE.md
Не работает авторизация          INSTALLATION.md + setup.py
Нужны примеры кода               examples.py
Нужна полная справка             README.md
Не знаю что такое allowed_chat   CONFIG_GUIDE.md
Интерактивная настройка          setup.py
Хочу быстро заработать           QUICKSTART.md
Нужен индекс файлов              INDEX.md

═══════════════════════════════════════════════════════════════════════════════

🎯 ВЫБЕРИТЕ ВАШЕ НАПРАВЛЕНИЕ

→ Я новичок, хочу быстро запустить
   Читайте: QUICKSTART.md (5 минут)
   Потом:   python3 main.py

→ Я опытный, хочу понять как это работает
   Читайте: CONFIG_GUIDE.md (20 минут)
   Потом:   CONFIG_USAGE_GUIDE.md

→ Я не люблю читать, дайте примеры кода!
   Запустите: python3 examples.py
   Там 5 полных примеров

→ Я не знаю с чего начать вообще
   Запустите: python3 setup.py
   Программа всё объяснит

═══════════════════════════════════════════════════════════════════════════════

✅ КОГда вы готовы

Если вы прочитали:
 ☑ CONFIG_USAGE_GUIDE.md (или CONFIG_GUIDE.md)
 ☑ Установили зависимости (pip install -r requirements.txt)
 ☑ Получили api_id и api_hash (https://my.telegram.org)
 ☑ Заполнили config.json
 ☑ Запустили хотя бы один раз (python3 main.py)

ТО ВЫ ГОТОВЫ! 🎉

Экспериментируйте, добавляйте новые функции, создавайте своё!

═══════════════════════════════════════════════════════════════════════════════

👋 УДАЧИ! НАЧНИТЕ С ЭТОГО ВЫБОРА:

1️⃣  Я в спешке:        QUICKSTART.md
2️⃣  Я люблю примеры:   CONFIG_USAGE_GUIDE.md
3️⃣  Я люблю подробно:  CONFIG_GUIDE.md
4️⃣  Помогите советом:   python3 setup.py

═══════════════════════════════════════════════════════════════════════════════
""")

# Предложить выбор
print("\n📋 Что вы выберете?\n")
print("1. QUICKSTART.md     - быстрый старт за 5 минут")
print("2. CONFIG_USAGE_GUIDE.md - примеры config.json")
print("3. CONFIG_GUIDE.md   - полный справочник")
print("4. Запустить setup.py - интерактивный помощник")
print("5. Запустить examples.py - примеры кода")
print("0. Выход\n")

choice = input("Выбор (0-5): ").strip()

if choice == "1":
    import subprocess
    subprocess.run(["cat", "QUICKSTART.md"])
elif choice == "2":
    import subprocess
    subprocess.run(["cat", "CONFIG_USAGE_GUIDE.md"])
elif choice == "3":
    import subprocess
    subprocess.run(["cat", "CONFIG_GUIDE.md"])
elif choice == "4":
    import subprocess
    subprocess.run(["python3", "setup.py"])
elif choice == "5":
    import subprocess
    subprocess.run(["python3", "examples.py"])
else:
    print("\n👋 Удачи с вашим проектом!")
